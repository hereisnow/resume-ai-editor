<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Resume Editor ¬∑ New UX</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Tailwind CDN –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 text-slate-900">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 py-6 sm:py-10">
    <!-- HEADER -->
    <header class="mb-6 sm:mb-8 flex items-center justify-between gap-4">
      <div>
        <h1 class="text-xl sm:text-2xl font-bold tracking-tight">AI Resume Editor</h1>
        <p class="text-xs sm:text-sm text-slate-500">
          Choose your path: analyze an existing resume or generate a new one. Follow the steps above.
        </p>
      </div>
      <span class="inline-flex items-center gap-1 rounded-full bg-slate-900 text-white px-3 py-1 text-[11px] shadow-lg">
        <span class="inline-block w-2 h-2 rounded-full bg-emerald-400"></span>
        Beta ¬∑ UX refresh
      </span>
    </header>

    <!-- STEPPER -->
    <nav aria-label="Progress" class="mb-6">
      <ol class="flex items-center gap-4 text-[11px] sm:text-xs font-medium text-slate-500">
        <li data-step="1" class="flex items-center gap-2">
          <span class="step-circle flex items-center justify-center w-6 h-6 rounded-full border border-indigo-500 bg-indigo-500 text-white text-[11px]">
            1
          </span>
          <span class="step-label">Choose mode</span>
        </li>
        <li class="flex-1 h-px bg-slate-200"></li>
        <li data-step="2" class="flex items-center gap-2">
          <span class="step-circle flex items-center justify-center w-6 h-6 rounded-full border border-slate-300 bg-white text-[11px]">
            2
          </span>
          <span class="step-label">Fill details</span>
        </li>
        <li class="flex-1 h-px bg-slate-200"></li>
        <li data-step="3" class="flex items-center gap-2">
          <span class="step-circle flex items-center justify-center w-6 h-6 rounded-full border border-slate-300 bg-white text-[11px]">
            3
          </span>
          <span class="step-label">Review &amp; export</span>
        </li>
      </ol>
    </nav>

    <!-- STEP 1: MODE PICKER -->
    <section id="mode-picker" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
      <!-- Generate card -->
      <button
        type="button"
        data-mode="generate"
        class="mode-card group relative flex flex-col items-start gap-2 rounded-2xl border border-slate-200 bg-white/80 px-4 py-4 text-left shadow-sm hover:shadow-lg hover:border-violet-200 transition"
      >
        <div class="inline-flex items-center gap-2 rounded-full bg-violet-50 px-2.5 py-1 text-[11px] text-violet-600">
          <span>‚ú®</span>
          <span>Generate Resume</span>
        </div>
        <h2 class="text-sm sm:text-base font-semibold text-slate-900">
          Create a new professional resume
        </h2>
        <p class="text-xs sm:text-[13px] text-slate-500">
          Quick form + AI suggestions. Ideal when —É —Ç–µ–±—è –Ω–µ—Ç –≥–æ—Ç–æ–≤–æ–≥–æ —Ä–µ–∑—é–º–µ –∏–ª–∏ —Ö–æ—á–µ—à—å –Ω–∞—á–∞—Ç—å —Å –Ω—É–ª—è.
        </p>
        <div class="mt-2 flex flex-wrap gap-2 text-[10px] text-slate-600">
          <span class="rounded-full bg-violet-50 px-2 py-1">AI-powered</span>
          <span class="rounded-full bg-slate-100 px-2 py-1">ATS-friendly layout</span>
        </div>
        <span class="absolute right-3 top-3 text-xs text-violet-400 group-hover:translate-x-0.5 transition">
          Start ‚Üí
        </span>
      </button>

      <!-- Analyze card -->
      <button
        type="button"
        data-mode="analyze"
        class="mode-card group relative flex flex-col items-start gap-2 rounded-2xl border border-slate-200 bg-white/80 px-4 py-4 text-left shadow-sm hover:shadow-lg hover:border-violet-200 transition"
      >
        <div class="inline-flex items-center gap-2 rounded-full bg-slate-900 px-2.5 py-1 text-[11px] text-slate-50">
          <span>üîç</span>
          <span>Analyze Resume</span>
        </div>
        <h2 class="text-sm sm:text-base font-semibold text-slate-900">
          Improve an existing resume
        </h2>
        <p class="text-xs sm:text-[13px] text-slate-500">
          Upload PDF/DOCX/TXT –∏–ª–∏ –≤—Å—Ç–∞–≤—å —Ç–µ–∫—Å—Ç, –ø–æ–ª—É—á–∏ ATS-–æ—Ü–µ–Ω–∫—É, —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.
        </p>
        <div class="mt-2 flex flex-wrap gap-2 text-[10px] text-slate-600">
          <span class="rounded-full bg-slate-100 px-2 py-1">ATS check</span>
          <span class="rounded-full bg-slate-100 px-2 py-1">Grammar &amp; style</span>
          <span class="rounded-full bg-slate-100 px-2 py-1">Impact &amp; metrics</span>
        </div>
        <span class="absolute right-3 top-3 text-xs text-slate-400 group-hover:translate-x-0.5 transition">
          Start ‚Üí
        </span>
      </button>
    </section>

    <!-- STEP 2/3 WORKSPACE: GENERATE -->
    <section
      data-panel="generate"
      class="hidden workspace-generate mb-8"
    >
      <div class="mb-4 flex items-center justify-between gap-3">
        <div>
          <h2 class="text-sm sm:text-base font-semibold text-slate-900">Generate Resume</h2>
          <p class="text-xs sm:text-[13px] text-slate-500">
            –ó–∞–ø–æ–ª–Ω–∏ –±–∞–∑–æ–≤—ã–µ –ø–æ–ª—è, AI –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç –∏—Ö –≤ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ–µ —Ä–µ–∑—é–º–µ. –í—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∏ –ø–æ–ø—Ä–∞–≤–∏—Ç—å.
          </p>
        </div>
        <button
          type="button"
          class="inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1 text-[11px] text-slate-600 hover:bg-slate-200 transition"
          onclick="scrollTo({top:0,behavior:'smooth'})"
        >
          Change mode
        </button>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-5">
        <!-- LEFT: form -->
        <form id="generate-form" class="space-y-4 bg-white/80 border border-slate-200 rounded-2xl p-4 shadow-sm">
          <div>
            <label class="flex items-center justify-between text-xs font-medium text-slate-700 mb-1">
              <span>Contact info</span>
              <span class="text-[11px] text-slate-400">–ò–º—è, email, LinkedIn</span>
            </label>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
              <input
                id="g-fullName"
                type="text"
                class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs focus:border-violet-500 focus:ring-1 focus:ring-violet-500 outline-none"
                placeholder="John Doe"
              />
              <input
                id="g-contact"
                type="text"
                class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs focus:border-violet-500 focus:ring-1 focus:ring-violet-500 outline-none"
                placeholder="john@example.com ¬∑ linkedin.com/in/john"
              />
            </div>
          </div>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
            <div>
              <label class="flex items-center justify-between text-xs font-medium text-slate-700 mb-1">
                <span>Target role *</span>
                <span class="text-[11px] text-slate-400">–ö–µ–º —Ö–æ—á–µ—à—å —Ä–∞–±–æ—Ç–∞—Ç—å</span>
              </label>
              <input
                id="g-role"
                required
                type="text"
                class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs focus:border-violet-500 focus:ring-1 focus:ring-violet-500 outline-none"
                placeholder="e.g. Product Manager"
              />
            </div>
            <div>
              <label class="flex items-center justify-between text-xs font-medium text-slate-700 mb-1">
                <span>Level</span>
              </label>
              <select
                id="g-level"
                class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs focus:border-violet-500 focus:ring-1 focus:ring-violet-500 outline-none"
              >
                <option>Junior</option>
                <option selected>Mid-level</option>
                <option>Senior</option>
                <option>Lead</option>
              </select>
            </div>
          </div>

          <div>
            <label class="flex items-center justify-between text-xs font-medium text-slate-700 mb-1">
              <span>Professional summary</span>
              <span class="text-[11px] text-slate-400">2‚Äì3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ —Ç–µ–±–µ</span>
            </label>
            <textarea
              id="g-summary"
              rows="3"
              class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs focus:border-violet-500 focus:ring-1 focus:ring-violet-500 outline-none"
              placeholder="3+ years as Software Engineer focusing on React and Node.js..."
            ></textarea>
          </div>

          <div>
            <label class="flex items-center justify-between text-xs font-medium text-slate-700 mb-1">
              <span>Skills</span>
              <span class="text-[11px] text-slate-400">Enter ‚Üí –¥–æ–±–∞–≤–∏—Ç—å —Å–∫–∏–ª–ª</span>
            </label>
            <div
              id="g-skills-wrapper"
              class="flex flex-wrap items-center gap-1 rounded-xl border border-slate-200 bg-slate-50 px-2 py-1 cursor-text"
            >
              <!-- —Ç–µ–≥–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
              <input
                id="g-skills-input"
                type="text"
                class="flex-1 min-w-[80px] bg-transparent border-none text-xs outline-none px-1 py-1"
                placeholder="Add a skill‚Ä¶"
              />
            </div>
          </div>

          <div>
            <label class="flex items-center justify-between text-xs font-medium text-slate-700 mb-1">
              <span>Experience (brief notes)</span>
              <span class="text-[11px] text-slate-400">–º–µ—Å—Ç–∞ —Ä–∞–±–æ—Ç—ã + –∫–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</span>
            </label>
            <textarea
              id="g-experience"
              rows="4"
              class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs focus:border-violet-500 focus:ring-1 focus:ring-violet-500 outline-none"
              placeholder="3 years at Company A as Software Engineer, led a team of 5..."
            ></textarea>
          </div>

          <div>
            <label class="flex items-center justify-between text-xs font-medium text-slate-700 mb-1">
              <span>Education</span>
            </label>
            <input
              id="g-education"
              type="text"
              class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs focus:border-violet-500 focus:ring-1 focus:ring-violet-500 outline-none"
              placeholder="BS Computer Science, University, 2024"
            />
          </div>

          <div class="flex flex-wrap items-center gap-3 pt-1">
            <button
              type="submit"
              class="inline-flex items-center gap-1 rounded-full bg-violet-600 px-4 py-2 text-xs font-semibold text-white shadow-md hover:bg-violet-700 hover:shadow-lg transition"
            >
              Generate resume
              <span class="-mr-1">‚Üª</span>
            </button>
            <button
              type="button"
              id="g-clear"
              class="inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-2 text-[11px] text-slate-700 hover:bg-slate-200 transition"
            >
              Clear form
            </button>
          </div>
        </form>

        <!-- RIGHT: preview -->
        <div class="bg-white/80 border border-slate-200 rounded-2xl p-4 shadow-sm flex flex-col gap-3">
          <div class="flex items-center justify-between gap-3">
            <div>
              <h3 class="text-sm font-semibold text-slate-900">Generated Resume</h3>
              <p class="text-[11px] text-slate-500">
                –®–∞–≥ 3: —Å–º–æ—Ç—Ä–∏ –ø—Ä–µ–≤—å—é –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π –≤ PDF/DOCX –≤ —Å–≤–æ—ë–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.
              </p>
            </div>
            <span class="inline-flex items-center gap-1 rounded-full bg-slate-900 text-white px-3 py-1 text-[10px]">
              Preview
            </span>
          </div>
          <div class="relative flex-1 rounded-xl border border-slate-200 bg-slate-50/80 p-4 overflow-auto">
            <div id="g-preview-empty" class="h-full flex flex-col items-center justify-center text-center text-[11px] text-slate-400">
              <div class="mb-2 text-xl">üìÑ</div>
              <p>–ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É —Å–ª–µ–≤–∞ –∏ –Ω–∞–∂–º–∏ <span class="font-semibold">Generate resume</span>.</p>
            </div>
            <div id="g-preview" class="hidden text-[11px] leading-relaxed text-slate-800">
              <!-- —Å—é–¥–∞ JS –≤—Å—Ç–∞–≤–∏—Ç –ø—Å–µ–≤–¥–æ-—Ä–µ–∑—é–º–µ -->
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- WORKSPACE: ANALYZE -->
    <section
      data-panel="analyze"
      class="hidden workspace-analyze mb-8"
    >
      <div class="mb-4 flex items-center justify-between gap-3">
        <div>
          <h2 class="text-sm sm:text-base font-semibold text-slate-900">Analyze Resume</h2>
          <p class="text-xs sm:text-[13px] text-slate-500">
            –ó–∞–≥—Ä—É–∑–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ —Ä–µ–∑—é–º–µ –∏–ª–∏ –≤—Å—Ç–∞–≤—å —Ç–µ–∫—Å—Ç ‚Äî AI –æ—Ü–µ–Ω–∏—Ç –∏ –ø–æ–¥—Å–∫–∞–∂–µ—Ç, —á—Ç–æ —É–ª—É—á—à–∏—Ç—å.
          </p>
        </div>
        <button
          type="button"
          class="inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1 text-[11px] text-slate-600 hover:bg-slate-200 transition"
          onclick="scrollTo({top:0,behavior:'smooth'})"
        >
          Change mode
        </button>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-5">
        <!-- LEFT: analyze form -->
        <form id="a-form" class="space-y-4 bg-white/80 border border-slate-200 rounded-2xl p-4 shadow-sm">
          <label
            for="a-file"
            class="flex flex-col items-center justify-center gap-1 rounded-xl border border-dashed border-slate-300 bg-slate-50 px-4 py-5 text-center text-xs text-slate-500 cursor-pointer hover:border-violet-400 hover:bg-violet-50/50 transition"
          >
            <span class="text-sm">Drag &amp; drop or click to upload</span>
            <span class="text-[11px] text-slate-400">PDF ¬∑ DOCX ¬∑ TXT ¬∑ Max 5MB</span>
            <span class="mt-1 inline-flex items-center gap-1 rounded-full bg-white px-2.5 py-1 text-[10px] text-slate-500 shadow-sm">
              Optional: –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç –Ω–∏–∂–µ
            </span>
            <input id="a-file" type="file" class="hidden" accept=".pdf,.doc,.docx,.txt" />
          </label>

          <div>
            <label class="flex items-center justify-between text-xs font-medium text-slate-700 mb-1">
              <span>Or paste resume text</span>
              <span class="text-[11px] text-slate-400">—Å–∫–æ–ø–∏—Ä—É–π —Ä–µ–∑—é–º–µ —Å—é–¥–∞</span>
            </label>
            <textarea
              id="a-text"
              rows="6"
              class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs focus:border-violet-500 focus:ring-1 focus:ring-violet-500 outline-none"
              placeholder="Paste your resume text here..."
            ></textarea>
          </div>

          <div>
            <label class="flex items-center justify-between text-xs font-medium text-slate-700 mb-1">
              <span>Target role (optional)</span>
              <span class="text-[11px] text-slate-400">AI –ø—Ä–æ–≤–µ—Ä–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–æ–ª–∏</span>
            </label>
            <input
              id="a-role"
              type="text"
              class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs focus:border-violet-500 focus:ring-1 focus:ring-violet-500 outline-none"
              placeholder="e.g. Product Manager"
            />
          </div>

          <div>
            <p class="text-xs font-medium text-slate-700 mb-1">What to check</p>
            <div class="flex flex-wrap gap-2">
              <label class="inline-flex items-center gap-2 rounded-full bg-slate-50 px-3 py-1 text-[11px] text-slate-700 border border-slate-200">
                <input type="checkbox" class="h-3 w-3 text-violet-600" checked />
                ATS compatibility
              </label>
              <label class="inline-flex items-center gap-2 rounded-full bg-slate-50 px-3 py-1 text-[11px] text-slate-700 border border-slate-200">
                <input type="checkbox" class="h-3 w-3 text-violet-600" checked />
                Grammar &amp; style
              </label>
              <label class="inline-flex items-center gap-2 rounded-full bg-slate-50 px-3 py-1 text-[11px] text-slate-700 border border-slate-200">
                <input type="checkbox" class="h-3 w-3 text-violet-600" checked />
                Achievements &amp; impact
              </label>
            </div>
          </div>

          <div class="flex flex-wrap items-center gap-3 pt-1">
            <button
              type="submit"
              class="inline-flex items-center gap-1 rounded-full bg-violet-600 px-4 py-2 text-xs font-semibold text-white shadow-md hover:bg-violet-700 hover:shadow-lg transition"
            >
              Analyze resume
              <span>üîç</span>
            </button>
            <button
              type="button"
              id="a-clear"
              class="inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-2 text-[11px] text-slate-700 hover:bg-slate-200 transition"
            >
              Clear inputs
            </button>
          </div>
        </form>

        <!-- RIGHT: analysis -->
        <div class="bg-white/80 border border-slate-200 rounded-2xl p-4 shadow-sm flex flex-col gap-3">
          <div class="flex items-center justify-between gap-3">
            <div>
              <h3 class="text-sm font-semibold text-slate-900">Analysis Result</h3>
              <p class="text-[11px] text-slate-500">
                –®–∞–≥ 3: —Å–º–æ—Ç—Ä–∏ –æ—Ç—á–µ—Ç, –ø–æ—Ç–æ–º –º–æ–∂–µ—à—å –ø–µ—Ä–µ–π—Ç–∏ –≤ —Ä–µ–∂–∏–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ä–µ–∑—é–º–µ.
              </p>
            </div>
            <span class="inline-flex items-center gap-1 rounded-full bg-slate-900 text-white px-3 py-1 text-[10px]">
              AI feedback
            </span>
          </div>
          <div class="relative flex-1 rounded-xl border border-slate-200 bg-slate-50/80 p-4 overflow-auto">
            <div id="a-preview-empty" class="h-full flex flex-col items-center justify-center text-center text-[11px] text-slate-400">
              <div class="mb-2 text-xl">‚ú®</div>
              <p>–ó–∞–≥—Ä—É–∑–∏ —Ñ–∞–π–ª –∏–ª–∏ –≤—Å—Ç–∞–≤—å —Ç–µ–∫—Å—Ç, –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏ <span class="font-semibold">Analyze resume</span>.</p>
            </div>
            <div id="a-preview" class="hidden text-[11px] leading-relaxed text-slate-800 space-y-3">
              <!-- —Å—é–¥–∞ JS –≤—Å—Ç–∞–≤–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω—ã–π –æ—Ç—á–µ—Ç -->
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script>
    // ===== Stepper =====
    const stepEls = document.querySelectorAll("[data-step]");
    function setStep(step) {
      stepEls.forEach((el) => {
        const s = Number(el.dataset.step);
        const circle = el.querySelector(".step-circle");
        if (!circle) return;
        circle.classList.remove(
          "bg-indigo-500",
          "border-indigo-500",
          "text-white",
          "bg-slate-100",
          "border-slate-300",
          "text-slate-500"
        );
        if (s < step) {
          circle.classList.add("bg-slate-900", "border-slate-900", "text-white");
        } else if (s === step) {
          circle.classList.add("bg-indigo-500", "border-indigo-500", "text-white");
        } else {
          circle.classList.add("bg-white", "border-slate-300", "text-slate-500");
        }
      });
    }

    // ===== Mode picker & panels =====
    const modeButtons = document.querySelectorAll("[data-mode]");
    const panels = document.querySelectorAll("[data-panel]");
    const modePicker = document.getElementById("mode-picker");
    let currentMode = null;

    function showPanel(mode) {
      panels.forEach((p) => {
        p.classList.toggle("hidden", p.dataset.panel !== mode);
      });
    }

    modeButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        currentMode = btn.dataset.mode;
        showPanel(currentMode);
        modePicker.classList.add("opacity-60", "pointer-events-none");
        setStep(2);
        // –ª—ë–≥–∫–∏–π —Å–∫—Ä–æ–ª–ª –∫ —Ñ–æ—Ä–º–µ
        setTimeout(() => {
          const panel = document.querySelector(`[data-panel="${currentMode}"]`);
          panel?.scrollIntoView({ behavior: "smooth", block: "start" });
        }, 100);
      });
    });

    // ===== Generate: skills input =====
    const gSkillsWrapper = document.getElementById("g-skills-wrapper");
    const gSkillsInput = document.getElementById("g-skills-input");

    function addSkill(label) {
      if (!label) return;
      const chip = document.createElement("span");
      chip.className =
        "inline-flex items-center gap-1 rounded-full bg-slate-200/80 px-2 py-0.5 text-[11px] text-slate-700";
      chip.innerHTML =
        `<span>${label}</span>` +
        `<button type="button" class="ml-1 text-[11px] text-slate-500 hover:text-slate-800">&times;</button>`;
      gSkillsWrapper.insertBefore(chip, gSkillsInput);
    }

    gSkillsWrapper.addEventListener("click", () => gSkillsInput.focus());

    gSkillsWrapper.addEventListener("click", (e) => {
      if (e.target.tagName === "BUTTON") {
        e.target.parentElement.remove();
      }
    });

    gSkillsInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        e.preventDefault();
        const value = gSkillsInput.value.trim();
        if (value) {
          addSkill(value);
          gSkillsInput.value = "";
        }
      }
      if (e.key === "Backspace" && !gSkillsInput.value) {
        const chips = gSkillsWrapper.querySelectorAll("span");
        if (chips.length > 0) chips[chips.length - 1].remove();
      }
    });

    // ===== Generate: preview logic (mock AI) =====
    const gForm = document.getElementById("generate-form");
    const gPreview = document.getElementById("g-preview");
    const gPreviewEmpty = document.getElementById("g-preview-empty");
    const gClear = document.getElementById("g-clear");

    gForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const fullName = document.getElementById("g-fullName").value.trim() || "Your Name";
      const contact = document.getElementById("g-contact").value.trim();
      const role = document.getElementById("g-role").value.trim() || "Target Role";
      const level = document.getElementById("g-level").value;
      const summary = document.getElementById("g-summary").value.trim();
      const exp = document.getElementById("g-experience").value.trim();
      const edu = document.getElementById("g-education").value.trim();
      const skills = Array.from(
        gSkillsWrapper.querySelectorAll("span > span:first-child")
      ).map((el) => el.textContent.trim());

      let html = "";
      html += `<h1 class="text-sm font-semibold">${fullName}</h1>`;
      html += `<p class="text-[10px] text-slate-500 mb-2">${contact ? contact + " ¬∑ " : ""}${level} ${role}</p>`;

      if (summary) {
        html += `<h2 class="mt-2 text-[10px] font-semibold tracking-wide text-slate-600 uppercase">Summary</h2>`;
        html += `<p class="text-[10px]">${summary}</p>`;
      }

      if (skills.length) {
        html += `<h2 class="mt-2 text-[10px] font-semibold tracking-wide text-slate-600 uppercase">Skills</h2>`;
        html += `<ul class="list-disc pl-4 text-[10px] space-y-0.5">`;
        skills.forEach((s) => (html += `<li>${s}</li>`));
        html += `</ul>`;
      }

      if (exp) {
        html += `<h2 class="mt-2 text-[10px] font-semibold tracking-wide text-slate-600 uppercase">Experience</h2>`;
        html += `<p class="whitespace-pre-line text-[10px]">${exp}</p>`;
      }

      if (edu) {
        html += `<h2 class="mt-2 text-[10px] font-semibold tracking-wide text-slate-600 uppercase">Education</h2>`;
        html += `<p class="text-[10px]">${edu}</p>`;
      }

      gPreview.innerHTML = html;
      gPreviewEmpty.classList.add("hidden");
      gPreview.classList.remove("hidden");

      setStep(3);
    });

    gClear.addEventListener("click", () => {
      gForm.reset();
      Array.from(gSkillsWrapper.querySelectorAll("span")).forEach((chip) => {
        if (chip !== gSkillsInput.parentElement) chip.remove();
      });
      gPreview.innerHTML = "";
      gPreview.classList.add("hidden");
      gPreviewEmpty.classList.remove("hidden");
      setStep(2);
    });

    // ===== Analyze: mock analysis =====
    const aForm = document.getElementById("a-form");
    const aPreview = document.getElementById("a-preview");
    const aPreviewEmpty = document.getElementById("a-preview-empty");
    const aClear = document.getElementById("a-clear");

    aForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const role = document.getElementById("a-role").value.trim() || "your target role";

      aPreview.innerHTML = `
        <div>
          <p class="inline-flex items-center gap-2 rounded-full bg-emerald-50 px-2.5 py-1 text-[10px] text-emerald-700 mb-2">
            <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>
            ATS score: 82 / 100 ¬∑ Good fit
          </p>
          <p class="text-[10px] text-slate-500 mb-2">
            –≠—Ç–æ –ø—Ä–∏–º–µ—Ä –æ—Ç—á—ë—Ç–∞. –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å—é–¥–∞ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—à—å –æ—Ç–≤–µ—Ç —Å–≤–æ–µ–≥–æ AI-–±—ç–∫–µ–Ω–¥–∞.
          </p>
        </div>
        <div>
          <h4 class="text-[10px] font-semibold uppercase tracking-wide text-slate-600 mb-1">Strengths</h4>
          <ul class="list-disc pl-4 text-[10px] space-y-0.5">
            <li>Clear structure and consistent formatting.</li>
            <li>Relevant keywords for ${role} already present.</li>
            <li>Good balance between technical and soft skills.</li>
          </ul>
        </div>
        <div>
          <h4 class="text-[10px] font-semibold uppercase tracking-wide text-slate-600 mb-1">Issues</h4>
          <ul class="list-disc pl-4 text-[10px] space-y-0.5">
            <li>Many bullet points lack measurable impact (no numbers).</li>
            <li>Summary could be more targeted to ${role}.</li>
            <li>Some sections are too wordy for ATS.</li>
          </ul>
        </div>
        <div>
          <h4 class="text-[10px] font-semibold uppercase tracking-wide text-slate-600 mb-1">Next steps</h4>
          <ul class="list-disc pl-4 text-[10px] space-y-0.5">
            <li>Add metrics (%, $ or time saved) to 3‚Äì5 key bullets.</li>
            <li>Use language that matches typical job descriptions for ${role}.</li>
            <li>Keep total length to 1 page if experience &lt; 7 years.</li>
          </ul>
        </div>
      `;

      aPreviewEmpty.classList.add("hidden");
      aPreview.classList.remove("hidden");
      setStep(3);
    });

    aClear.addEventListener("click", () => {
      aForm.reset();
      aPreview.innerHTML = "";
      aPreview.classList.add("hidden");
      aPreviewEmpty.classList.remove("hidden");
      setStep(2);
    });
  </script>
</body>
</html>
